@using Microsoft.AspNetCore.Antiforgery;

<input type="hidden" name="@_antiforgeryFieldName" value="@_antiforgeryToken" />

@code {
    [CascadingParameter] public HttpContext HttpContext { get; set; } = null!;

    [Inject] public IAntiforgery Antiforgery { get; set; } = null!;
    
    private string _antiforgeryFieldName = string.Empty;
    private string _antiforgeryToken = string.Empty;

    protected override void OnParametersSet()
    {
        var set = Antiforgery.GetAndStoreTokens(HttpContext);
        _antiforgeryFieldName = set.FormFieldName;
        _antiforgeryToken = set.RequestToken!;
    }

}